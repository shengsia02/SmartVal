{% extends 'core/base_admin.html' %}

{% block title %}房屋資訊 - {{ house.address }}{% endblock %}

{% block content %}
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-bold tracking-tight text-slate-900">
      房屋資訊
    </h1>
    <a href="{% url 'house:house_list' %}"
       class="inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">
      &larr; 返回列表
    </a>
  </div>

  <div class="bg-white shadow-md rounded-lg p-6">
    
    <div class="flex flex-col md:flex-row gap-6">

      <div class="flex-grow">
        <div class="space-y-4 text-lg text-slate-700"> 
          
          <p><strong class="font-medium text-slate-900 w-28 inline-block">地址：</strong> {{ house.address }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">房屋類型：</strong> {{ house.house_type }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">總價格：</strong> {{ house.total_price }} 萬元</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">縣市：</strong> {{ house.city }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">行政區：</strong> {{ house.town }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">屋齡：</strong> {{ house.house_age }} 年</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">建坪：</strong> {{ house.floor_area }} 坪</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">地坪：</strong> {{ house.land_area }} 坪</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">建坪單價：</strong> {{ house.unit_price }} 萬元/坪</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">所在層數：</strong> {{ house.floor_number }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">地上總層數：</strong> {{ house.total_floors }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">房間數：</strong> {{ house.room_count }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">經度：</strong> {{ house.longitude }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">緯度：</strong> {{ house.latitude }}</p>
          <p><strong class="font-medium text-slate-900 w-28 inline-block">出售日期：</strong> {{ house.sold_time|date:"Y-m-d" }}</p>

          <p>
            <strong class="font-medium text-slate-900 w-28 inline-block">仲介：</strong>
            {% if house.agent %}
              {{ house.agent.name }}
            {% else %}
              <span class="text-slate-500">無資料</span>
            {% endif %}
          </p>
          
          <p>
            <strong class="font-medium text-slate-900 w-28 inline-block">買家：</strong>
            {% if house.buyers %}
              {{ house.buyers.name }}
            {% else %}
              <span class="text-slate-500">無資料</span>
            {% endif %}
          </p>
        </div>
      </div>

      {# 【!! 修正 !!】 圖片容器寬度從 md:w-1/4 調整為 md:w-1/2 #}
      <div class="w-full md:w-1/2 md:ml-6 flex-shrink-0">
        {% if house.detail.house_image %}
          <img src="{{ house.detail.house_image.url }}" alt="房屋圖片" class="w-full h-auto rounded-lg shadow-md object-cover">
        {% else %}
          <div class="w-full h-64 flex items-center justify-center bg-slate-100 rounded-lg text-slate-500 border">
            無房屋圖片
          </div>
        {% endif %}
      </div>

    </div>
  </div>
{% endblock %}